import Igis
import Scenes

class PlayerMoveRectangle : RenderableEntity, EntityMouseClickHandler {
    public let rectangle : Rectangle
    public let playerMove : PlayerMove

    init(rectangle : Rectangle, playerMove : PlayerMove) {
        self.rectangle = rectangle
        self.playerMove = playerMove
        
        super.init(name: "PlayerMoveRectangle")

//        dispatcher.registerEntityMouseClickHandler(handler: self)
    }
    override func teardown() {
        dispatcher.unregisterEntityMouseClickHandler(handler: self)
    }

    func onEntityMouseClick(globalLocation: Point) {
        print(globalLocation)
  /*      for currentMove in 0..<4{
            let contain = playerMoveRectangles[currentMove].boundingRect().containment(target: globalLocation)
            print(contain.contains(.containedFully))
        }*/
    }
    
    override func boundingRect() -> Rect
    {
        let boundingRect = rectangle.rect
          
        let left = boundingRect.center.x - (boundingRect.width / 2)
        let top = boundingRect.center.y - (boundingRect.height / 2)
        let width =  boundingRect.width
        let height = boundingRect.height

        return Rect(topLeft: Point(x: left, y: top), size: Size(width: width, height: height))
    }
}
